sources:
  # Priority 1: System prompt (research methodology)
  - type: file
    id: system_prompt
    path: "${AGENT_HOME}/system_prompt.md"

  # Priority 2: Research summary (compressed history)
  - type: computed_file
    id: research_summary
    generator:
      command:
        - sh
        - -c
        - |
          # If summary exists, output it; otherwise return empty message
          if [ -f research_summary.md ]; then
            cat research_summary.md
          else
            echo "# Research Summary"
            echo ""
            echo "No previous research. This is the start of a new research project."
          fi
      timeout_ms: 5000
    output_path: "${CWD}/.delta/context_artifacts/summary.md"
    on_missing: skip

  # Priority 3: Current phase notes
  - type: file
    id: current_notes
    path: "${CWD}/notes.md"
    on_missing: skip

  # Priority 4: Recent journal (last few iterations for continuity)
  - type: journal
    id: recent_iterations
    max_iterations: 3
