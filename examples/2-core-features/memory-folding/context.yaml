sources:
  # Priority 1: System prompt
  - type: file
    id: system_prompt
    path: "${AGENT_HOME}/system_prompt.md"

  # Priority 2: Workspace guide (if exists)
  - type: file
    id: workspace_guide
    path: "${CWD}/DELTA.md"
    on_missing: skip

  # Priority 3: Compressed memory (dynamic generation)
  - type: computed_file
    id: compressed_memory
    generator:
      command: ["python3", "${AGENT_HOME}/tools/summarize.py"]
      timeout_ms: 10000
    output_path: "${CWD}/.delta/context_artifacts/summary.md"
    on_missing: skip

  # Priority 4: Recent conversation (only last 30 iterations to save tokens)
  - type: journal
    id: recent_conversation
    max_iterations: 5
